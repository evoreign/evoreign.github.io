<!DOCTYPE html>
<html lang="id">
   <head>
      <meta charset="UTF-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <title>Akun Saya - Beliin.id</title>
      <link rel="stylesheet" href="./component/css/main.css">
      <script src="https://unpkg.com/lucide@latest"></script>
      <style>
         .icon { display: inline-block; width: 1em; height: 1em; vertical-align: -0.125em; }
         .profile-main-section .detail-value input[type="text"],
         .profile-main-section .detail-value input[type="date"],
         .profile-main-section .detail-value input[type="tel"],
         .profile-main-section .detail-value input[type="email"] {
         width: auto;
         min-width: 200px;
         padding: var(--spacing-1) var(--spacing-2);
         font-size: var(--font-size-sm);
         border: 1px solid hsl(var(--input-border));
         border-radius: var(--radius-sm);
         background-color: hsl(var(--background));
         color: hsl(var(--foreground));
         }
         .profile-photo-placeholder img { width:100%; height:100%; object-fit:cover; border-radius: inherit;}
         .product-image-placeholder img {width: 100%; height: 100%; object-fit: cover; border-radius: var(--radius-sm); }
      </style>
      <link rel="icon" href="./assets/logo.PNG" type="image/png">
   </head>
   <body class="page-body">
      <header class="site-header">
         <div class="header-container">
            <div class="logo-container">
               <a href="index.html" class="logo-link">
               <img src="./assets/logo.jpeg" alt="Logo Beliin.id" class="logo" style="width: 15%; height: 15%; object-fit: cover; border-radius: var(--radius);">
               </a>
            </div>
            <div class="search-bar-container new-search-bar desktop-search">
               <form action="#" class="search-form">
                  <i data-lucide="search" class="icon search-icon-inside"></i>
                  <input type="search" class="form-input search-input" placeholder="Cari produk, kategori, atau toko...">
               </form>
            </div>
            <nav class="header-actions">
               <button type="button" class="btn btn-ghost btn-icon mobile-search-trigger" aria-label="Buka Pencarian">
               <i data-lucide="search" class="icon"></i>
               </button>
               <a href="keranjang.html" class="btn btn-ghost btn-icon" aria-label="Keranjang Belanja">
               <i data-lucide="shopping-cart" class="icon"></i>
               </a>
               <a href="wishlist.html" class="btn btn-ghost btn-icon" aria-label="Wishlist">
               <i data-lucide="heart" class="icon"></i>
               </a>
               <a href="chat.html" class="btn btn-ghost btn-icon" aria-label="Chat">
               <i data-lucide="message-circle" class="icon"></i>
               </a>
               <a href="profile.html" class="btn btn-ghost btn-icon" aria-label="Profil Pengguna">
               <i data-lucide="user" class="icon"></i>
               </a>
            </nav>
         </div>
      </header>
      <div class="search-overlay" id="searchOverlay">
         <div class="search-overlay-header">
            <div class="search-bar-container new-search-bar">
               <form action="#" class="search-form">
                  <i data-lucide="search" class="icon search-icon-inside"></i>
                  <input type="search" class="form-input search-input" placeholder="Cari di Beliin.id..." id="mobileSearchInput">
               </form>
            </div>
            <button type="button" class="btn btn-link search-overlay-close" id="searchOverlayClose">Batal</button>
         </div>
         <div class="search-overlay-content">
         </div>
      </div>
      <main class="profile-page-content container">
         <div class="profile-layout-container">
            <aside class="profile-sidebar card">
               <div class="profile-sidebar-userinfo">
                  <div class="user-avatar-placeholder placeholder-bg">
                     <img src="https://via.placeholder.com/80x80/6c757d/ffffff?text=VF" alt="Avatar Violetta Fransisca" id="userAvatarPreview" style="border-radius:50%;">
                  </div>
                  <h2 class="user-profile-name">Violetta Fransisca</h2>
                  <button type="button" class="btn btn-link btn-sm edit-profile-button-main">Ubah profil</button>
               </div>
               <nav class="profile-navigation">
                  <h3 class="profile-nav-title">Akun Saya</h3>
                  <ul class="profile-nav-list">
                     <li class="profile-nav-item">
                        <a href="#biodata" class="profile-nav-link active" aria-current="page" data-section="biodata-section">
                        <i data-lucide="user" class="icon nav-icon"></i> Biodata diri
                        </a>
                     </li>
                     <li class="profile-nav-item">
                        <a href="#alamat" class="profile-nav-link" data-section="alamat-section">
                        <i data-lucide="map-pin" class="icon nav-icon"></i> Daftar Alamat
                        </a>
                     </li>
                     <li class="profile-nav-item">
                        <a href="#pembayaran" class="profile-nav-link" data-section="pembayaran-section">
                        <i data-lucide="credit-card" class="icon nav-icon"></i> Pembayaran
                        </a>
                     </li>
                     <li class="profile-nav-item">
                        <a href="#pesanan" class="profile-nav-link" data-section="pesanan-section">
                        <i data-lucide="package" class="icon nav-icon"></i> Pesanan Saya
                        </a>
                     </li>
                     <li class="profile-nav-item">
                        <a href="#notifikasi" class="profile-nav-link" data-section="notifikasi-section">
                        <i data-lucide="bell" class="icon nav-icon"></i> Pengaturan Notifikasi
                        </a>
                     </li>
                     <li class="profile-nav-item">
                        <a href="#password" class="profile-nav-link" data-section="password-section">
                        <i data-lucide="lock" class="icon nav-icon"></i> Ubah Password
                        </a>
                     </li>
                     <li class="profile-nav-item">
                        <a href="coupon.html" class="profile-nav-link">
                        <i data-lucide="ticket" class="icon nav-icon"></i> Coupon Saya
                        </a>
                     </li>
                  </ul>
               </nav>
            </aside>
            <section class="profile-main-section card" id="biodata-section" data-title="Biodata diri">
               <h1 class="section-title-lg">Biodata diri</h1>
               <div class="biodata-content-wrapper">
                  <div class="profile-photo-container">
                     <div class="profile-photo-placeholder placeholder-bg">
                        <img src="https://via.placeholder.com/180x180/adb5bd/ffffff?text=Foto+Profil" alt="Foto Profil Violetta Fransisca" id="profilePhotoPreview">
                     </div>
                     <input type="file" id="changePhotoImageInput" style="display: none;" accept="image/*">
                     <button class="btn btn-outline btn-sm change-photo-button" id="changePhotoButton">Ubah Foto</button>
                  </div>
                  <div class="biodata-details">
                     <div class="detail-item">
                        <span class="detail-label">Nama</span>
                        <span class="detail-value" data-field="name">Violetta Fransisca</span>
                     </div>
                     <div class="detail-item">
                        <span class="detail-label">Tanggal Lahir</span>
                        <span class="detail-value" data-field="dob">25/09/1975</span>
                     </div>
                     <div class="detail-item">
                        <span class="detail-label">Jenis Kelamin</span>
                        <div class="detail-value gender-radio-group" data-field="gender">
                           <label class="form-radio-container">
                           <input type="radio" name="gender" value="laki-laki" class="form-radio" disabled>
                           <span class="form-radio-indicator"></span>
                           <span class="form-radio-label">Laki-laki</span>
                           </label>
                           <label class="form-radio-container">
                           <input type="radio" name="gender" value="perempuan" class="form-radio" checked disabled>
                           <span class="form-radio-indicator"></span>
                           <span class="form-radio-label">Perempuan</span>
                           </label>
                        </div>
                     </div>
                     <div class="detail-item">
                        <span class="detail-label">Nomor Telepon</span>
                        <span class="detail-value" data-field="phone">08163823562</span>
                     </div>
                     <div class="detail-item">
                        <span class="detail-label">Nama Toko</span>
                        <span class="detail-value" data-field="storeName">Ncik VP</span>
                     </div>
                     <div class="detail-item">
                        <span class="detail-label">Email</span>
                        <span class="detail-value" data-field="email">violetta.mathers@gmail.com</span>
                     </div>
                  </div>
               </div>
               <div class="profile-actions">
                  <button type="button" class="btn btn-primary edit-profile-button">Edit profile</button>
               </div>
            </section>
            <section class="profile-main-section card" id="alamat-section" data-title="Daftar Alamat" style="display:none;">
               <h1 class="section-title-lg">Daftar Alamat</h1>
               <p><a href="#" class="btn btn-primary btn-sm">Tambah Alamat Baru</a></p>
               <div class="section-list">
                  <div class="section-item">
                     <h3 class="section-name">Rumah</h3>
                     <p class="section-details">Jl. Raya No. 123, Jakarta, Indonesia</p>
                     <button type="button" class="btn btn-link btn-sm">Edit</button>
                     <button type="button" class="btn btn-link btn-sm">Hapus</button>
                  </div>
                  <br>
                  <div class="section-item">
                     <h3 class="section-name">Kantor</h3>
                     <p class="section-details">Jl. Kebon Jeruk No. 456, Jakarta, Indonesia</p>
                     <button type="button" class="btn btn-link btn-sm">Edit</button>
                     <button type="button" class="btn btn-link btn-sm">Hapus</button>
                  </div>
               </div>
            </section>
            <section class="profile-main-section card" id="pembayaran-section" data-title="Pembayaran" style="display:none;">
               <h1 class="section-title-lg">Pembayaran</h1>
               <p><a href="#" class="btn btn-primary btn-sm">Tambah Metode Pembayaran</a></p>
               <div class="section-list">
                  <div class="section-item">
                     <h3 class="section-name">Kartu Kredit</h3>
                     <p class="section-details">**** **** **** 1234</p>
                     <button type="button" class="btn btn-link btn-sm">Edit</button>
                     <button type="button" class="btn btn-link btn-sm">Hapus</button>
                  </div>
                  <br>
                  <div class="section-item">
                     <h3 class="section-name">Transfer Bank</h3>
                     <p class="section-details">Bank BCA - 1234567890</p>
                     <button type="button" class="btn btn-link btn-sm">Edit</button>
                     <button type="button" class="btn btn-link btn-sm">Hapus</button>
                  </div>
               </div>
               <br><br><br>
               <p class="section-hint">Pastikan untuk memperbarui informasi pembayaran Anda secara berkala.</p>
            </section>
            <section class="profile-main-section card" id="pesanan-section" data-title="Pesanan Saya" style="display:none;">
               <h1 class="section-title-lg">Pesanan Saya</h1>
               <nav class="orders-tab-navigation tab-navigation">
                  <button type="button" class="tab-button active" aria-selected="true" data-status="Semua">Semua</button>
                  <button type="button" class="tab-button" aria-selected="false" data-status="Belum Bayar">Belum Bayar</button>
                  <button type="button" class="tab-button" aria-selected="false" data-status="Dikemas">Dikemas</button>
                  <button type="button" class="tab-button" aria-selected="false" data-status="Dikirim">Dikirim</button>
                  <button type="button" class="tab-button" aria-selected="false" data-status="Selesai">Selesai</button>
                  <button type="button" class="tab-button" aria-selected="false" data-status="Dibatalkan">Dibatalkan</button>
                  <button type="button" class="tab-button" aria-selected="false" data-status="Pengembalian">Pengembalian</button>
               </nav>
               <div class="order-list" id="orderList">
               </div>
            </section>
            <section class="profile-main-section card" id="notifikasi-section" data-title="Pengaturan Notifikasi" style="display:none;">
               <h1 class="section-title-lg">Pengaturan Notifikasi</h1>
               <div>
                  <label class="form-checkbox-container">
                  <input type="checkbox" class="form-checkbox" checked>
                  <span class="form-checkbox-indicator"></span>
                  <span class="form-checkbox-label">Notifikasi Pesanan</span>
                  </label>
                  <label class="form-checkbox-container">
                  <input type="checkbox" class="form-checkbox" checked>
                  <span class="form-checkbox-indicator"></span>
                  <span class="form-checkbox-label">Notifikasi Promo</span>
                  </label>
               </div>
               <div>
                  <label class="form-checkbox-container">
                  <input type="checkbox" class="form-checkbox">
                  <span class="form-checkbox-indicator"></span>
                  <span class="form-checkbox-label">Notifikasi Chat</span>
                  </label>
                  <label class="form-checkbox-container">
                  <input type="checkbox" class="form-checkbox">
                  <span class="form-checkbox-indicator"></span>
                  <span class="form-checkbox-label">Notifikasi Pembayaran</span>
                  </label>
               </div>
            </section>
            <section class="profile-main-section card" id="password-section" data-title="Ubah Password" style="display:none;">
               <h1 class="section-title-lg">Ubah Password</h1>
               <form action="#" method="POST">
                  <div class="form-group">
                     <label for="current-password" class="form-label">Password Saat Ini</label>
                     <input type="password" id="current-password" name="current-password" class="form-input" required>
                  </div>
                  <div class="form-group">
                     <label for="new-password" class="form-label">Password Baru</label>
                     <input type="password" id="new-password" name="new-password" class="form-input" required>
                  </div>
                  <div class="form-group">
                     <label for="confirm-password" class="form-label">Konfirmasi Password Baru</label>
                     <input type="password" id="confirm-password" name="confirm-password" class="form-input" required>
                  </div>
                  <button type="submit" class="btn btn-primary submit-button">Simpan Perubahan</button>
               </form>
               <p class="form-hint">Pastikan password baru Anda kuat dan unik.</p>
            </section>
         </div>
      </main>
      <script>
         document.addEventListener('DOMContentLoaded', function () {
             // ADD THIS JAVASCRIPT TO YOUR <script> TAGS
         
         // --- Search Overlay Logic ---
         const searchOverlay = document.getElementById('searchOverlay');
         const searchTrigger = document.querySelector('.mobile-search-trigger');
         const searchClose = document.getElementById('searchOverlayClose');
         const mobileSearchInput = document.getElementById('mobileSearchInput');
         
         if (searchTrigger) {
             searchTrigger.addEventListener('click', () => {
                 if (searchOverlay) {
                     searchOverlay.classList.add('is-active');
                     // Automatically focus the input field when the overlay opens
                     if(mobileSearchInput) mobileSearchInput.focus();
                 }
             });
         }
         
         if (searchClose) {
             searchClose.addEventListener('click', () => {
                 if (searchOverlay) {
                     searchOverlay.classList.remove('is-active');
                 }
             });
         }
             lucide.createIcons();
         
             // --- PROFILE PAGE SCRIPT ---
         
             // Profile Page Navigation & Section Switching
             const profileNavLinks = document.querySelectorAll('.profile-nav-link');
             const profileSections = document.querySelectorAll('.profile-main-section');
         
             function showSection(sectionIdToShow) {
                 profileSections.forEach(section => {
                     section.style.display = (section.id === sectionIdToShow) ? 'block' : 'none';
                 });
             }
         
             profileNavLinks.forEach(link => {
                 link.addEventListener('click', function (e) {
                     const targetSectionId = this.dataset.section;
                     if (targetSectionId) {
                         e.preventDefault();
                         profileNavLinks.forEach(nav => nav.classList.remove('active'));
                         this.classList.add('active');
                         showSection(targetSectionId);
                         window.location.hash = this.hash;
                     }
                 });
             });
         
             // Handle initial section display based on URL hash
             function displayInitialSection() {
                 let sectionIdFromHash = window.location.hash.substring(1);
                 if (!sectionIdFromHash) {
                     sectionIdFromHash = "biodata";
                 }
                 const targetSection = document.getElementById(sectionIdFromHash + "-section");
                 const targetLink = document.querySelector(`.profile-nav-link[data-section="${sectionIdFromHash}-section"]`);
         
                 if (targetSection) {
                     showSection(targetSection.id);
                     if (targetLink) {
                         profileNavLinks.forEach(nav => nav.classList.remove('active'));
                         targetLink.classList.add('active');
                     }
                 } else {
                     showSection('biodata-section');
                     const defaultLink = document.querySelector('.profile-nav-link[data-section="biodata-section"]');
                     if(defaultLink) defaultLink.classList.add('active');
                 }
             }
             displayInitialSection();
             window.addEventListener('hashchange', displayInitialSection);
         
             // Edit Profile Functionality
             const editProfileButton = document.querySelector('.edit-profile-button');
             const editProfileButtonMain = document.querySelector('.edit-profile-button-main');
             const biodataDetailsDiv = document.querySelector('#biodata-section .biodata-details');
             let isEditMode = false;
         
             function toggleEditMode() {
                 isEditMode = !isEditMode;
                 const detailValues = biodataDetailsDiv.querySelectorAll('.detail-value[data-field]');
                 const genderRadios = biodataDetailsDiv.querySelectorAll('input[name="gender"]');
         
                 detailValues.forEach(span => {
                     const fieldName = span.dataset.field;
                     if (isEditMode) {
                         if (fieldName !== 'gender') {
                             let currentValue = span.textContent;
                             let inputType = "text";
                             if (fieldName === "dob") inputType = "date";
                             else if (fieldName === "phone") inputType = "tel";
                             else if (fieldName === "email") inputType = "email";
                             
                             const input = document.createElement('input');
                             input.type = inputType;
                             if (fieldName === "dob") {
                                 const parts = currentValue.split('/');
                                 if (parts.length === 3) currentValue = `${parts[2]}-${parts[1]}-${parts[0]}`;
                             }
                             input.value = currentValue;
                             input.dataset.originalSpan = fieldName;
                             span.style.display = 'none';
                             span.parentNode.insertBefore(input, span.nextSibling);
                         }
                     } else { // View mode
                         const inputField = span.parentNode.querySelector(`input[data-original-span="${fieldName}"]`);
                         if (inputField) {
                             let newValue = inputField.value;
                              if (fieldName === "dob") {
                                 const parts = newValue.split('-');
                                 if (parts.length === 3) newValue = `${parts[2]}/${parts[1]}/${parts[0]}`;
                             }
                             span.textContent = newValue;
                             span.style.display = '';
                             inputField.remove();
                         }
                     }
                 });
         
                 genderRadios.forEach(radio => {
                     radio.disabled = !isEditMode;
                 });
         
                 if(editProfileButton) editProfileButton.textContent = isEditMode ? 'Simpan Perubahan' : 'Edit profile';
                 if(editProfileButtonMain) editProfileButtonMain.textContent = isEditMode ? 'Simpan Perubahan' : 'Ubah profil';
             }
         
             if (editProfileButton) {
                 editProfileButton.addEventListener('click', toggleEditMode);
             }
             if (editProfileButtonMain) {
                  editProfileButtonMain.addEventListener('click', () => {
                     const biodataLink = document.querySelector('.profile-nav-link[data-section="biodata-section"]');
                     if (biodataLink && !biodataLink.classList.contains('active')) {
                         biodataLink.click();
                     }
                     if (!isEditMode) {
                         toggleEditMode();
                     }
                 });
             }
         
             // Change Photo Button
             const changePhotoButton = document.getElementById('changePhotoButton');
             const photoInput = document.getElementById('changePhotoImageInput');
             const profilePhotoPreview = document.getElementById('profilePhotoPreview');
             const userAvatarPreview = document.getElementById('userAvatarPreview');
         
             if (changePhotoButton && photoInput) {
                 changePhotoButton.addEventListener('click', () => photoInput.click());
                 photoInput.addEventListener('change', function(event) {
                     const file = event.target.files[0];
                     if (file && profilePhotoPreview && userAvatarPreview) {
                         const reader = new FileReader();
                         reader.onload = function(e) {
                             profilePhotoPreview.src = e.target.result;
                             userAvatarPreview.src = e.target.result;
                         }
                         reader.readAsDataURL(file);
                     }
                 });
             }
         
         
             // --- ORDERS PAGE SCRIPT ---
             const orderTabs = document.querySelectorAll('.orders-tab-navigation .tab-button');
             const orderListContainer = document.getElementById('orderList');
         
             // Sample order data
             const allOrders = [
                 { 
                     id: "order1", storeName: "Kinera", status: "Selesai", statusMessage: "Pesanan tiba di alamat tujuan, diterima oleh Anggota keluarga.",
                     icon: "truck",
                     products: [{ name: "Kinera Celest Wyvern White / Wyvern Abyss Pro 10mm", quantity: 1, price: "125.000", image: "./assets/orders/1.jpeg" }],
                     total: "125.000", storeId: "tokoElektronik", productId: "produkElektronik"
                 },
                 { 
                     id: "order2", storeName: "Paper Rex", status: "Dikirim", statusMessage: "Pesanan sedang dalam perjalanan menuju alamat Anda.",
                     icon: "package",
                     products: [{ name: "Paper Rex Official DinoGlitch Jersey 2025/2026", quantity: 2, price: "150.000", image: "./assets/orders/2.jpg" }],
                     total: "300.000", storeId: "tokoFashion", productId: "bajuKemeja"
                 },
                 { 
                     id: "order3", storeName: "Texas Instrument", status: "Belum Bayar", statusMessage: "Menunggu pembayaran Anda sebelum 25 Mei 2025, 23:59.",
                     icon: "credit-card",
                     products: [{ name: "Texas Instruments BA II Plus Professional Financial Calculator", quantity: 1, price: "85.000", image: "./assets/orders/3.jpg" }],
                     total: "85.000", storeId: "tokoPerabotan", productId: "lampuMeja"
                 },
                  { 
                     id: "order4", storeName: "Press Play", status: "Dikemas", statusMessage: "Pesanan sedang disiapkan oleh penjual.",
                     icon: "archive",
                     products: [{ name: "IRIS Ultralight Ergonomic Wireless Gaming Mouse by Press Play", quantity: 1, price: "250.000", image: "./assets/orders/4.jpeg" }],
                     total: "250.000", storeId: "tokoGadget", productId: "mousePro"
                 },
                  { 
                     id: "order5", storeName: "Gramedia", status: "Dibatalkan", statusMessage: "Pesanan telah dibatalkan oleh sistem.",
                     icon: "x-circle",
                     products: [{ name: "Buku The Things You Can See Only When You Slow Down", quantity: 1, price: "95.000", image: "./assets/orders/5.jfif" }],
                     total: "95.000", storeId: "tokoBuku", productId: "novelFantasi"
                 }
                 
             ];
         
             function renderOrders(statusFilter = "Semua") {
                 orderListContainer.innerHTML = '';
                 const filteredOrders = statusFilter === "Semua" ? allOrders : allOrders.filter(order => order.status === statusFilter);
         
                 if (filteredOrders.length === 0) {
                     orderListContainer.innerHTML = `<p style="text-align:center; color:hsl(var(--muted-foreground)); padding: var(--spacing-6) 0;">Tidak ada pesanan dengan status "${statusFilter}".</p>`;
                     return;
                 }
         
                 filteredOrders.forEach(order => {
                     const orderCard = document.createElement('div');
                     orderCard.className = 'order-card card';
                     
                     let productsHTML = '';
                     order.products.forEach(product => {
                         productsHTML += `
                             <div class="order-product-item">
                                 <a href="detailProduct.html?id=${product.productId || 'generic'}" class="product-image-placeholder order-product-image">
                                     <img src="${product.image}" alt="${product.name}">
                                 </a>
                                 <div class="order-product-details">
                                     <a href="detailProduct.html?id=${product.productId || 'generic'}" style="text-decoration:none; color:inherit;"><p class="product-name">${product.name}</p></a>
                                     <p class="product-quantity">x${product.quantity}</p>
                                 </div>
                                 <p class="order-product-price">Rp ${product.price}</p>
                             </div>
                         `;
                     });
         
                     orderCard.innerHTML = `
                         <div class="order-card-header">
                             <div class="order-store-info">
                                 <a href="storeProfile.html?id=${order.storeId || 'generic'}" style="text-decoration:none; color:inherit;"><span class="store-name">${order.storeName}</span></a>
                             </div>
                             <div class="order-status-message">
                                 <i data-lucide="${order.icon || 'info'}" class="icon"></i> ${order.statusMessage}
                             </div>
                         </div>
                         <div class="order-card-body">${productsHTML}</div>
                         <div class="order-card-footer">
                             <div class="order-total-summary">
                                 <span>Total Pesanan:</span>
                                 <span class="total-amount">Rp ${order.total}</span>
                             </div>
                             <div class="order-actions">
                                 ${order.status === "Selesai" ? '<button class="btn btn-outline btn-sm rate-order-button" data-orderid="'+order.id+'">Nilai</button>' : ''}
                                 <a href="chat.html?store_id=${order.storeId || 'generic'}" class="btn btn-outline btn-sm">Hubungi Penjual</a>
                                 <button class="btn btn-primary btn-sm buy-again-button" data-orderid="${order.id}">Beli Lagi</button>
                             </div>
                         </div>
                     `;
                     orderListContainer.appendChild(orderCard);
                 });
                 lucide.createIcons({context: orderListContainer});
         
                 // Add event listeners for new buttons
                 document.querySelectorAll('.rate-order-button').forEach(button => {
                     button.addEventListener('click', function() { alert(`Tombol "Nilai" untuk pesanan ${this.dataset.orderid} diklik.`); });
                 });
                 document.querySelectorAll('.buy-again-button').forEach(button => {
                     button.addEventListener('click', function() { alert(`Tombol "Beli Lagi" untuk pesanan ${this.dataset.orderid} diklik.`); });
                 });
             }
         
             orderTabs.forEach(tab => {
                 tab.addEventListener('click', function () {
                     orderTabs.forEach(t => { t.classList.remove('active'); t.setAttribute('aria-selected', 'false'); });
                     this.classList.add('active');
                     this.setAttribute('aria-selected', 'true');
                     renderOrders(this.dataset.status);
                 });
             });
         
             // Initial render for orders if the pesanan tab is active
              if (document.querySelector('.profile-nav-link[data-section="pesanan-section"].active')) {
                 renderOrders("Semua");
              }
              // Also render if the hash is #pesanan on load
              if(window.location.hash === '#pesanan') {
                 renderOrders("Semua");
              }
         });
      </script>
   </body>
</html>